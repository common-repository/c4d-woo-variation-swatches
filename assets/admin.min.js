!function(a){a(document).ready(function(){a.each(["c4d-woo-vs-single-variation-popup","c4d-woo-vs-single-variation-popup-size","c4d-woo-vs-single-variation-popup-size-color","c4d-woo-vs-single-zoom-out-box","c4d-woo-vs-single-zoom-out-box-size","c4d-woo-vs-single-zoom-out-box-color","c4d-woo-vs-listing-tooltip-background","c4d-woo-vs-listing-tooltip-text-color","c4d-woo-vs-listing-tooltip-typo","c4d-woo-vs-listing-tooltip-space","c4d-woo-vs-single-tooltip-background","c4d-woo-vs-single-tooltip-text-color","c4d-woo-vs-single-tooltip-typo","c4d-woo-vs-single-tooltip-space","c4d-woo-vs-single-nav-show","c4d-woo-vs-single-nav-direction","c4d-woo-vs-single-nav-item-show","c4d-woo-vs-single-nav-item-margin","c4d-woo-vs-single-zoom-pan","c4d-woo-vs-single-box-size","c4d-woo-vs-single-box-size-mobile","c4d-woo-vs-listing-box-size"],function(o,e){a('fieldset[id*="'+e+'"]').append('<div class="c4d-label-pro-version"><a target="blank" href="http://coffee4dev.com/woocommerce-variation-swatches">Pro Version</a></div>')})})}(jQuery),function(n){n(document).ready(function(){n(".c4d-woo-vs-add-product-images").on("click","a",function(o){var e,c=n(this);$parent=c.parents(".c4d-woo-vs-product-images-container"),$image_gallery_ids=$parent.find(".c4d_woo_vs_product_image_gallery_values"),$image_gallery_images=$parent.find(".c4d_woo_vs_product_image_gallery_images"),$product_images=$parent.find("ul.product_images"),o.preventDefault(),e||(e=wp.media.frames.product_gallery=wp.media({title:c.data("choose"),button:{text:c.data("update")},states:[new wp.media.controller.Library({title:c.data("choose"),filterable:"all",multiple:!0})]})).on("select",function(){var o=e.state().get("selection"),t="",i="",s="";o.map(function(o,e){if((o=o.toJSON()).id){var a=o.sizes&&o.sizes.medium?o.sizes.medium.url:o.url;t=t?t+","+o.id:o.id,i=i?i+","+a:a;s+='<li class="image " data-attachment_id="'+o.id+'" data-attachment_image="'+a+'">',s+='<img src="'+a+'" />',s+='<a target="blank" href="http://coffee4dev.com/woocommerce-variation-swatches/" class="c4d-woo-vs-pro-badge">Pro Version</a>',s+='<ul class="actions"><li><a href="#" class="delete" title="'+c.data("delete")+'">x</a></li></ul></li>'}}),$image_gallery_ids.val(t),$image_gallery_images.val(i),$product_images.html(s)}),e.open()}),n(".c4d-woo-vs-product-images-container ul.product_images").each(function(o,e){var i=n(e).parents(".c4d-woo-vs-product-images-container").find(".c4d_woo_vs_product_image_gallery_values"),s=n(e).parents(".c4d-woo-vs-product-images-container").find(".c4d_woo_vs_product_image_gallery_images");n(e).sortable({items:"li.image:not(.pro-only)",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"wc-metabox-sortable-placeholder",start:function(o,e){e.item.css("background-color","#f6f6f6")},stop:function(o,e){e.item.removeAttr("style")},update:function(){var a="",t="";n(e).find("li.image:not(.pro-only)").css("cursor","default").each(function(){var o=n(this).attr("data-attachment_id"),e=n(this).attr("data-attachment_image");a=a?a+","+o:o,t=t?t+","+e:e}),i.val(a),s.val(t)}})}),n(".c4d-woo-vs-product-images-container").on("click","a.delete",function(){var a="",t="";return $parent=n(this).parents(".c4d-woo-vs-product-images-container"),$values=$parent.find(".c4d_woo_vs_product_image_gallery_values"),$images=$parent.find(".c4d_woo_vs_product_image_gallery_images"),n(this).closest("li.image").remove(),$parent.find("ul li.image").css("cursor","default").each(function(){var o=n(this).attr("data-attachment_id"),e=n(this).attr("data-attachment_image");a=a+o+",",t=t+e+","}),$images.val(t),$values.val(a),!1}),n("#c4d-woo-variation-swatches-update p .update-link").html("update FREE version now"),n("#c4d-woo-variation-swatches-update p").append(' If you have premium account, please login and download <a target="blank" href="http://coffee4dev.com/woocommerce-variation-swatches/">your PRO version</a>.')})}(jQuery);